os: linux
dist: bionic

language: r
cache: packages

env:
  global:
    - R_VERSION="4.0"


r_github_packages: eddelbuettel/rcppsimdjson

jobs:
  include:
    - name: gcc-8
      env: CXX11="g++-8" CXX17="g++-8" CC="gcc-8"
    # - name: gcc-9
    #   env: CXX11="g++-9" CXX17="g++-9" CC="gcc-9"
    # - name: gcc-10
    #   env: CXX11="g++-10" CXX17="g++-10" CC="gcc-10"

before_install:
  - echo "options(repos = c(CRAN = 'https://packagemanager.rstudio.com/all/__linux__/bionic/latest'))" >> ~/.Rprofile.site
  - echo "options(HTTPUserAgent = paste0('R/', getRversion(), ' R (',
       paste(getRversion(), R.version['platform'], R.version['arch'], R.version['os']),
       ')'))" >> ~/.Rprofile.site

addons:
  apt:
    update: false

warnings_are_errors: false
